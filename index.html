<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat With LLM // Tim's Build</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!--上边栏-->
    <header class="chat-header">
        <div class="header-left">
            <button class="icon-left-side" id="left-sidebar-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M21 3C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H21ZM7 5H4V19H7V5ZM20 5H9V19H20V5Z">
                    </path>
                </svg>
            </button>
        </div>

        <!-- 模型选择部分-->
        <div class="topic-model-selection-group">
            <button class="topic-model-selection-button" id="topic-model-selection-button">
                <div class="topic-model-selection-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgba(173,184,194,1)">
                        <path
                            d="M16.0503 12.0498L21 16.9996L16.0503 21.9493L14.636 20.5351L17.172 17.9988L4 17.9996V15.9996L17.172 15.9988L14.636 13.464L16.0503 12.0498ZM7.94975 2.0498L9.36396 3.46402L6.828 5.9988L20 5.99955V7.99955L6.828 7.9988L9.36396 10.5351L7.94975 11.9493L3 6.99955L7.94975 2.0498Z">
                        </path>
                    </svg>
                </div>
                <div><span>模型选择</span></div>
            </button>
            <div class="model-dropdown-menu" id="model-dropdown-menu">
                <div class="modelid" id="model1">zai-org/GLM-4.6</div>
                <div class="modelid" id="model2">deepseek-ai/DeepSeek-V3.1-Terminus</div>
                <div class="modelid" id="model3">moonshotai/Kimi-K2-Thinking</div>
                <div class="modelid" id="model4">Qwen/Qwen3-VL-235B-A22B-Instruct</div>
                <div class="modelid" id="model5">MiniMaxAI/MiniMax-M2</div>
                <div class="modelid" id="model6">baidu/ERNIE-4.5-300B-A47B</div>
            </div>
        </div>

        <div class="topic-name">新对话 (New Chat)</div>

        <div class="header-right">
            <button class="icon-right-side" id="right-sidebar-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M21 3C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H21ZM15 5H4V19H15V5ZM20 5H17V19H20V5Z">
                    </path>
                </svg>
            </button>
        </div>
    </header>

    <div class="app-layout">

        <!-- 左侧边栏 -->
        <aside class="left-side closed" id="left-sidebar">
            <div class="left-topic">
                <span class="left-topic-text">历史记录 (Session)</span>
            </div>

            <div class="left-middle">
                <!-- new-chat样式 -->
                <button class="new-chat">
                    <span class="new-chat-text">+ New Chat</span>
                </button>

                <!-- 动态历史记录插槽 -->
                <div id="dynamic-history-container"></div>

                <div style="border-top: 1px solid #4d4d4f; margin: 10px 0;"></div>
                <button class="history-block">
                    <span class="history-text">示例：高中数学题解释</span>
                </button>
                <button class="history-block">
                    <span class="history-text">示例：C语言性能优化</span>
                </button>
            </div>

            <div class="left-low">
                <div class="left-low-in" id="user-menu-btn">
                    <div class="left-low-in-icon"></div>
                    <span class="username">User</span>
                    <div class="about-icon"></div>
                    <div class="left-low-popup" id="user-popup">
                        <button class="popup-options"><span class="popup-options-text">Settings</span></button>
                        <button class="popup-options"><span class="popup-options-text">Clear All Context</span></button>
                        <button class="popup-options" style="border-top:1px solid #444;"><span
                                class="popup-options-text">Log out</span></button>
                    </div>
                </div>
            </div>
        </aside>

        <!-- 中间对话区 -->
        <main class="main-chat">
            <div class="chat-messages-area">
                <!-- 消息插入区 -->
            </div>

            <div class="input">
                <div class="input-area">
                    <textarea id="user-input-textarea" placeholder="输入指令... (Shift+Enter 换行)"></textarea>
                </div>
                <button class="send">
                    <svg style="width:16px;height:16px;margin-right:5px;" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24" fill="currentColor">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                    </svg>
                    <span class="send-text">Send</span>
                </button>
            </div>
        </main>

        <!-- 右侧边栏 -->
        <aside class="right-side closed" id="right-sidebar">
            <div class="right-topic">
                <div class="right-topic-icon"></div>
                <span class="right-topic-text">系统设置</span>
            </div>

            <!-- 触发按钮 -->
            <button class="system-prompt-area" id="sys-prompt-trigger">
                <div class="system-prompt-area-icon">
                    <svg viewBox="0 0 24 24" fill="white" width="18" height="18">
                        <path
                            d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L3.16 8.87c-.11.2-.06.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.04.24.24.41.48.41h3.84c.24 0 .43-.17.47-.41l.36-2.54c.59-.24 1.13-.57 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.11-.2.06-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" />
                    </svg>
                </div>
                <span class="system-prompt-area-text">System Prompt & 设置</span>
                <div class="system-prompt-area-show"></div>
            </button>

            
            <div class="system-prompt-edit" id="sys-prompt-panel">
                <div class="system-prompt-edit-topic">
                    <span class="system-instructions">Edit System Prompt</span>
                    <!-- 退出按钮 -->
                    <button class="close-system-prompt-area-button" id="sys-prompt-close">×</button>
                </div>

                <div class="system-prompt-content">
                    <div class="system-prompt-content-edit">
                        <textarea id="system-prompt-input" placeholder="输入系统人设..."></textarea>
                    </div>
                </div>

                <button class="system-prompt-save" id="sys-save-btn">
                    <span class="system-prompt-save-text">保存并生效</span>
                </button>

                <div style="margin-top:10px; font-size:12px; color:#666;">
                    修改后对当前会话立即生效。
                </div>
            </div>

            <!-- 参数滑块区域 -->
            <div class="dividing-line-icon"></div>
            <div class="adjust-area">
                <div class="adjust-temperature">
                    <span class="adjust-temperature-text">Temperature</span>
                    <input type="range" id="temp-slider" min="0" max="2" step="0.1" value="0.7" class="real-slider">
                    <div class="slider-value"><span id="temp-value">0.7</span></div>
                </div>

                <div class="adjust-top-p">
                    <span class="adjust-top-p-text">Top P</span>
                    <input type="range" id="topp-slider" min="0" max="1" step="0.05" value="0.9" class="real-slider">
                    <div class="slider-value"><span id="topp-value">0.9</span></div>
                </div>

                <div class="adjust-frequency-penalty">
                    <span class="adjust-frequency-penalty-text">Freq Penalty</span>
                    <input type="range" id="freq-slider" min="-2" max="2" step="0.1" value="0" class="real-slider">
                    <div class="slider-value"><span id="freq-value">0</span></div>
                </div>

                <div class="adjust-presence-penalty">
                    <span class="adjust-presence-penalty-text">Pres Penalty</span>
                    <input type="range" id="pres-slider" min="-2" max="2" step="0.1" value="0" class="real-slider">
                    <div class="slider-value"><span id="pres-value">0</span></div>
                </div>
            </div>
        </aside>

    </div>

    <script src="script.js"></script>
</body>

</html>